USE mydatabase;

-- 清空表数据（按依赖关系顺序）
DELETE FROM score;
DELETE FROM exam_record;
DELETE FROM student;
DELETE FROM subject;

-- 重置自增ID
ALTER TABLE subject AUTO_INCREMENT = 1;
ALTER TABLE student AUTO_INCREMENT = 1;
ALTER TABLE exam_record AUTO_INCREMENT = 1;
ALTER TABLE score AUTO_INCREMENT = 1;

-- 1. 插入科目数据
INSERT INTO `subject` (`subject_name`) VALUES
('语文'),
('数学'),
('英语'),
('物理'),
('化学'),
('生物'),
('历史'),
('地理'),
('政治');

-- 2. 插入学生数据（40名学生，覆盖三个年级）
INSERT INTO `student` (`student_number`, `student_name`, `gender`, `phone`, `id_card`, `grade`, `class_name`, `hometown`, `address`) VALUES
-- 高一1班 (5人)
('G202401001', '张三', '男', '13800138001', '110101200501011001', '高一', '1班', '北京', '北京市海淀区中关村大街1号'),
('G202401002', '李四', '女', '13800138002', '110101200501021002', '高一', '1班', '上海', '北京市朝阳区建国门外大街2号'),
('G202401003', '王五', '男', '13800138003', '110101200501031003', '高一', '1班', '广州', '北京市西城区金融大街3号'),
('G202401004', '赵六', '女', '13800138004', '110101200501041004', '高一', '1班', '深圳', '北京市东城区王府井大街4号'),
('G202401005', '钱七', '男', '13800138005', '110101200501051005', '高一', '1班', '杭州', '北京市丰台区方庄路5号'),

-- 高一2班 (5人)
('G202402001', '孙八', '女', '13800138006', '110101200501061006', '高一', '2班', '南京', '北京市石景山区石景山路6号'),
('G202402002', '周九', '男', '13800138007', '110101200501071007', '高一', '2班', '武汉', '北京市通州区新华大街7号'),
('G202402003', '吴十', '女', '13800138008', '110101200501081008', '高一', '2班', '成都', '北京市昌平区府学路8号'),
('G202402004', '郑十一', '男', '13800138009', '110101200501091009', '高一', '2班', '西安', '北京市大兴区兴华大街9号'),
('G202402005', '王十二', '女', '13800138010', '110101200501101010', '高一', '2班', '重庆', '北京市顺义区新顺南大街10号'),

-- 高一3班 (5人)
('G202403001', '郑三十三', '男', '13800138031', '110101200504011031', '高一', '3班', '贵阳', '北京市海淀区万柳31号'),
('G202403002', '王三十四', '女', '13800138032', '110101200504021032', '高一', '3班', '南宁', '北京市朝阳区酒仙桥32号'),
('G202403003', '李三十五', '男', '13800138033', '110101200504031033', '高一', '3班', '兰州', '北京市西城区阜成门大街33号'),
('G202403004', '张三十六', '女', '13800138034', '110101200504041034', '高一', '3班', '银川', '北京市东城区雍和宫大街34号'),
('G202403005', '刘三十七', '男', '13800138035', '110101200504051035', '高一', '3班', '西宁', '北京市丰台区草桥35号'),

-- 高二1班 (5人)
('G202301001', '李十三', '男', '13800138011', '110101200502011011', '高二', '1班', '天津', '北京市海淀区清华路11号'),
('G202301002', '张十四', '女', '13800138012', '110101200502021012', '高二', '1班', '苏州', '北京市朝阳区三里屯路12号'),
('G202301003', '刘十五', '男', '13800138013', '110101200502031013', '高二', '1班', '宁波', '北京市西城区宣武门大街13号'),
('G202301004', '陈十六', '女', '13800138014', '110101200502041014', '高二', '1班', '无锡', '北京市东城区东直门大街14号'),
('G202301005', '杨十七', '男', '13800138015', '110101200502051015', '高二', '1班', '青岛', '北京市丰台区刘家窑路15号'),

-- 高二2班 (5人)
('G202302001', '黄十八', '女', '13800138016', '110101200502061016', '高二', '2班', '长沙', '北京市石景山区八角路16号'),
('G202302002', '赵十九', '男', '13800138017', '110101200502071017', '高二', '2班', '郑州', '北京市通州区玉带河大街17号'),
('G202302003', '周二十', '女', '13800138018', '110101200502081018', '高二', '2班', '佛山', '北京市昌平区沙河镇18号'),
('G202302004', '吴二十一', '男', '13800138019', '110101200502091019', '高二', '2班', '东莞', '北京市大兴区黄村19号'),
('G202302005', '郑二十二', '女', '13800138020', '110101200502101020', '高二', '2班', '合肥', '北京市顺义区仁和镇20号'),

-- 高二3班 (3人)
('G202303001', '陈三十八', '女', '13800138036', '110101200504061036', '高二', '3班', '乌鲁木齐', '北京市石景山区老山36号'),
('G202303002', '杨三十九', '男', '13800138037', '110101200504071037', '高二', '3班', '拉萨', '北京市通州区漷县镇37号'),
('G202303003', '黄四十', '女', '13800138038', '110101200504081038', '高二', '3班', '呼和浩特', '北京市昌平区小汤山38号'),

-- 高三1班 (5人)
('G202201001', '王二十三', '男', '13800138021', '110101200503011021', '高三', '1班', '福州', '北京市海淀区北大平庄21号'),
('G202201002', '李二十四', '女', '13800138022', '110101200503021022', '高三', '1班', '济南', '北京市朝阳区望京路22号'),
('G202201003', '张二十五', '男', '13800138023', '110101200503031023', '高三', '1班', '沈阳', '北京市西城区车公庄大街23号'),
('G202201004', '刘二十六', '女', '13800138024', '110101200503041024', '高三', '1班', '哈尔滨', '北京市东城区安定门大街24号'),
('G202201005', '陈二十七', '男', '13800138025', '110101200503051025', '高三', '1班', '长春', '北京市丰台区宋家庄路25号'),

-- 高三2班 (5人)
('G202202001', '杨二十八', '女', '13800138026', '110101200503061026', '高三', '2班', '石家庄', '北京市石景山区古城路26号'),
('G202202002', '黄二十九', '男', '13800138027', '110101200503071027', '高三', '2班', '太原', '北京市通州区梨园镇27号'),
('G202202003', '赵三十', '女', '13800138028', '110101200503081028', '高三', '2班', '大连', '北京市昌平区回龙观28号'),
('G202202004', '周三十一', '男', '13800138029', '110101200503091029', '高三', '2班', '厦门', '北京市大兴区西红门29号'),
('G202202005', '吴三十二', '女', '13800138030', '110101200503101030', '高三', '2班', '珠海', '北京市顺义区后沙峪30号');

-- 3. 插入考试记录（8次考试，覆盖主要科目）
INSERT INTO `exam_record` (`subject_id`, `exam_name`, `teacher_name`, `exam_start_time`, `exam_end_time`) VALUES
-- 高一语文考试
(1, '2024学年第一学期高一语文期中考试', '王老师', '2024-11-01 09:00:00', '2024-11-01 11:30:00'),
(1, '2024学年第一学期高一语文期末考试', '王老师', '2025-01-15 09:00:00', '2025-01-15 11:30:00'),

-- 高一数学考试
(2, '2024学年第一学期高一数学期中考试', '李老师', '2024-11-02 09:00:00', '2024-11-02 11:00:00'),
(2, '2024学年第一学期高一数学期末考试', '李老师', '2025-01-16 09:00:00', '2025-01-16 11:00:00'),

-- 高一英语考试
(3, '2024学年第一学期高一英语期中考试', '张老师', '2024-11-03 09:00:00', '2024-11-03 11:00:00'),
(3, '2024学年第一学期高一英语期末考试', '张老师', '2025-01-17 09:00:00', '2025-01-17 11:00:00'),

-- 高二物理考试
(4, '2024学年第一学期高二物理期中考试', '刘老师', '2024-11-04 14:00:00', '2024-11-04 16:00:00'),

-- 高三化学考试
(5, '2024学年第一学期高三化学期中考试', '陈老师', '2024-11-05 14:00:00', '2024-11-05 16:00:00');

-- 4. 插入成绩数据（为所有高一学生插入成绩，便于测试分析功能）
INSERT INTO `score` (`student_number`, `exam_id`, `score`) VALUES
-- 语文期中考试成绩 (考试ID: 1)
('G202401001', 1, 85.50), ('G202401002', 1, 92.00), ('G202401003', 1, 78.50), ('G202401004', 1, 88.00), ('G202401005', 1, 76.00),
('G202402001', 1, 94.50), ('G202402002', 1, 81.00), ('G202402003', 1, 89.50), ('G202402004', 1, 73.00), ('G202402005', 1, 95.00),
('G202403001', 1, 82.50), ('G202403002', 1, 90.00), ('G202403003', 1, 79.50), ('G202403004', 1, 87.00), ('G202403005', 1, 84.50),

-- 数学期中考试成绩 (考试ID: 2)
('G202401001', 2, 92.00), ('G202401002', 2, 88.50), ('G202401003', 2, 85.00), ('G202401004', 2, 91.50), ('G202401005', 2, 79.00),
('G202402001', 2, 96.00), ('G202402002', 2, 83.50), ('G202402003', 2, 90.00), ('G202402004', 2, 77.50), ('G202402005', 2, 93.50),
('G202403001', 2, 86.00), ('G202403002', 2, 89.00), ('G202403003', 2, 82.00), ('G202403004', 2, 94.50), ('G202403005', 2, 80.50),

-- 英语期中考试成绩 (考试ID: 3)
('G202401001', 3, 87.50), ('G202401002', 3, 91.00), ('G202401003', 3, 79.00), ('G202401004', 3, 85.00), ('G202401005', 3, 83.50),
('G202402001', 3, 93.00), ('G202402002', 3, 81.50), ('G202402003', 3, 88.00), ('G202402004', 3, 76.50), ('G202402005', 3, 94.50),
('G202403001', 3, 84.00), ('G202403002', 3, 89.50), ('G202403003', 3, 82.00), ('G202403004', 3, 86.50), ('G202403005', 3, 80.00),

-- 语文期末考试成绩 (考试ID: 4) - 设置进步退步案例
('G202401001', 4, 88.00),  -- 进步
('G202401002', 4, 94.50),  -- 进步
('G202401003', 4, 82.00),  -- 进步
('G202401004', 4, 85.50),  -- 退步
('G202401005', 4, 80.00),  -- 进步
('G202402001', 4, 89.00),  -- 退步
('G202402002', 4, 86.50),  -- 进步
('G202402003', 4, 92.00),  -- 进步
('G202402004', 4, 78.50),  -- 进步
('G202402005', 4, 91.50),  -- 退步
('G202403001', 4, 90.00),  -- 进步
('G202403002', 4, 87.50),  -- 退步
('G202403003', 4, 84.00),  -- 进步
('G202403004', 4, 89.00),  -- 进步
('G202403005', 4, 88.50),  -- 进步

-- 数学期末考试成绩 (考试ID: 5)
('G202401001', 5, 95.00), ('G202401002', 5, 90.50), ('G202401003', 5, 88.00), ('G202401004', 5, 93.00), ('G202401005', 5, 82.50),
('G202402001', 5, 91.50), ('G202402002', 5, 87.00), ('G202402003', 5, 94.50), ('G202402004', 5, 80.00), ('G202402005', 5, 96.00),
('G202403001', 5, 89.50), ('G202403002', 5, 92.00), ('G202403003', 5, 85.50), ('G202403004', 5, 90.00), ('G202403005', 5, 83.00),

-- 英语期末考试成绩 (考试ID: 6)
('G202401001', 6, 90.00), ('G202401002', 6, 93.50), ('G202401003', 6, 84.00), ('G202401004', 6, 88.50), ('G202401005', 6, 86.00),
('G202402001', 6, 89.50), ('G202402002', 6, 85.00), ('G202402003', 6, 92.00), ('G202402004', 6, 79.50), ('G202402005', 6, 95.00),
('G202403001', 6, 87.50), ('G202403002', 6, 91.00), ('G202403003', 6, 83.50), ('G202403004', 6, 90.50), ('G202403005', 6, 82.00),

-- 高二物理期中考试成绩 (考试ID: 7) - 为高二学生添加成绩
('G202301001', 7, 88.00), ('G202301002', 7, 92.50), ('G202301003', 7, 85.00), ('G202301004', 7, 90.00), ('G202301005', 7, 87.50),
('G202302001', 7, 94.00), ('G202302002', 7, 83.00), ('G202302003', 7, 89.50), ('G202302004', 7, 86.00), ('G202302005', 7, 91.00),
('G202303001', 7, 84.50), ('G202303002', 7, 88.50), ('G202303003', 7, 82.00),

-- 高三化学期中考试成绩 (考试ID: 8) - 为高三学生添加成绩
('G202201001', 8, 90.00), ('G202201002', 8, 85.50), ('G202201003', 8, 92.00), ('G202201004', 8, 88.50), ('G202201005', 8, 87.00),
('G202202001', 8, 94.50), ('G202202002', 8, 83.50), ('G202202003', 8, 89.00), ('G202202004', 8, 91.50), ('G202202005', 8, 86.00);

-- 验证数据插入
SELECT 
    (SELECT COUNT(*) FROM subject) as subject_count,
    (SELECT COUNT(*) FROM student) as student_count,
    (SELECT COUNT(*) FROM exam_record) as exam_count,
    (SELECT COUNT(*) FROM score) as score_count;